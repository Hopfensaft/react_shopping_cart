{"version":3,"sources":["features/product-listing/add-btn.js","features/product-listing/remove-btn.js","features/product-listing/product-list-item.js","features/cart/index.js","features/product-listing/index.js","pages/homepage.js","pages/cartpage.js","Router.js","App.js","features/cart/reducer.js","config/store.js","index.js"],"names":["AddButton","props","react_default","a","createElement","onClick","addToCart","product","cartItem","quantity","RemoveButton","removeFromCart","ProductListItem","className","name","price","toFixed","connect","state","cart","dispatch","item","type","payload","removeAllFromCart","items","sort","b","map","length","reduce","acc","Number","products","filter","HomePage","product_listing","CartPage","features_cart","Router","Switch","Route","exact","path","component","Navigation","NavLink","to","App","App_Navigation","src_Router","Component","cartWithoutItem","cartReducer","arguments","undefined","action","itemInCart","concat","Object","toConsumableArray","objectSpread","rootReducer","combineReducers","persistedState","serializedState","localStorage","getItem","JSON","parse","e","console","log","loadFromLocalStorage","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","stringify","setItem","saveToLocalStorage","getState","app","es","BrowserRouter","src_App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2f4a1ec9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function AddButton(props) {\r\n    return <button onClick={() => props.addToCart(props.product)}>\r\n        Add to cart ({\r\n        (props.cartItem && props.cartItem.quantity) || 0\r\n        })</button>\r\n}","import React from 'react'\r\n\r\nexport default function RemoveButton(props) {\r\n    return <button onClick={() => props.removeFromCart(props.cartItem)}>\r\n        Remove</button>\r\n}","import React from 'react'\r\nimport AddButton from './add-btn'\r\nimport RemoveButton from './remove-btn'\r\n\r\nexport default function ProductListItem(props) {\r\n    return <div className='product-list-item'>\r\n        <h3>{ props.product.name }</h3>\r\n        <h4> GBP { props.product.price.toFixed(2) }</h4>\r\n        <div>\r\n            <AddButton\r\n                cartItem={props.cartItem}\r\n                product={props.product}\r\n                addToCart={props.addToCart}\r\n            />\r\n\r\n            {\r\n                props.cartItem\r\n                ? <RemoveButton\r\n                        cartItem={props.cartItem}\r\n                        product={props.product}\r\n                        removeFromCart={props.removeFromCart}\r\n                    />\r\n                : null\r\n            }\r\n        </div>\r\n    </div>\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction sort(items) {\r\n    return items.sort((a, b) => a.name < b.name)\r\n}\r\n\r\nfunction Cart(props) {\r\n    return <div>\r\n        <table>\r\n        <thead>\r\n            <tr>\r\n                <th>Item</th>\r\n                <th>Quantity</th>\r\n                <th>Price</th>\r\n                <th></th>\r\n                <th></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n        {\r\n            sort(props.cart).map(item => <tr>\r\n                <td>{ item.name }</td>\r\n                <td>{ item.quantity }</td>\r\n                <td>GBP { (item.price * item.quantity).toFixed(2) }</td>\r\n                <td>\r\n                    <button onClick={() => props.addToCart(item)}>+</button>\r\n                    <button onClick={() => props.removeFromCart(item)}>-</button>\r\n                </td>\r\n                <td>\r\n                    <button onClick={() => props.removeAllFromCart(item)}>Remove all</button>\r\n                </td>\r\n                </tr>)\r\n        }\r\n        </tbody>\r\n    </table>\r\n        <div><h2> Total: GBP {props.cart.length\r\n            ? props.cart.reduce((acc, item) => (\r\n            acc + item.price * item.quantity\r\n            ), 0).toFixed(2) : Number(0).toFixed(2)}\r\n        </h2></div>\r\n    </div>\r\n}\r\n\r\nconst Total = ({ cart }) => (\r\n    <div className='cart-total'>\r\n    <span className='cart-total-label'>\r\n      Total:\r\n    </span>\r\n        <span className='cart-total-value'>\r\n      ${cart.length ? cart.reduce((acc, item) => (\r\n            acc + item.price * item.count\r\n        ), 0).toFixed(2) : Number(0).toFixed(2)}\r\n    </span>\r\n    </div>\r\n);\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        cart: state.cart,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addToCart: (item) => {\r\n            dispatch({ type: 'ADD', payload: item})\r\n        },\r\n        removeFromCart: (item) => {\r\n            dispatch({ type: 'REMOVE', payload: item})\r\n        },\r\n        removeAllFromCart: (item) => {\r\n            dispatch({ type: 'REMOVE_ALL', payload: item})\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)","import React from 'react'\r\nimport ProductListItem from './product-list-item'\r\nimport { connect } from 'react-redux'\r\nimport { cartItemsWithQuantity } from '../cart'\r\n\r\nconst products = [\r\n    {\r\n        name: 'Sledgehammer',\r\n        price: 125.75\r\n    },{\r\n        name: 'Axe',\r\n        price: 190.50\r\n    },{\r\n        name: 'Bandsaw',\r\n        price: 562.13\r\n    },{\r\n        name: 'Chisel',\r\n        price: 12.9\r\n    },{\r\n        name: 'Hacksaw',\r\n        price: 18.45\r\n    }\r\n]\r\n\r\nfunction ProductListing(props) {\r\n    return <div className='product-listing'>\r\n        {\r\n            products.map(product =>\r\n                <ProductListItem\r\n                    product={product}\r\n                    addToCart={props.addToCart}\r\n                    removeFromCart={props.removeFromCart}\r\n                    cartItem={props.cart.filter(cartItem => cartItem.name === product.name)[0]}\r\n                /> )\r\n        }\r\n    </div>\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        cart: state.cart\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addToCart: (item) => {\r\n            dispatch({ type: 'ADD', payload: item})\r\n        },\r\n        removeFromCart: (item) => {\r\n            dispatch({ type: 'REMOVE', payload: item})\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductListing)","import React from 'react'\r\nimport ProductListing from '../features/product-listing'\r\nimport products from '../features/product-listing'\r\n\r\nexport default function HomePage(props) {\r\n    return <div>\r\n        <h2>\r\n            Homepage\r\n        </h2>\r\n        <ProductListing products={products} />\r\n    </div>\r\n}","import React from 'react'\r\nimport Cart from '../features/cart'\r\n\r\nexport default function CartPage(props) {\r\n    return <div>\r\n        <h2>\r\n            My Shopping cart\r\n        </h2>\r\n        <Cart />\r\n    </div>\r\n}","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport HomePage from './pages/homepage'\r\nimport CartPage from './pages/cartpage'\r\n\r\nconst Router = () => (\r\n    <Switch>\r\n        <Route exact path='/' component={HomePage} />\r\n        <Route exact path='/cart' component={CartPage} />\r\n    </Switch>\r\n)\r\n\r\nexport default Router","import React, { Component } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport Router from './Router'\n\nconst Navigation = (props) => <nav>\n  <ul className='top-menu'>\n    <li><NavLink to='/'>Home</NavLink></li>\n    <li><NavLink to='/cart'>Cart</NavLink></li>\n  </ul>\n</nav>\n\nclass App extends Component {\n  render() {\n    return <div className='page-container'><h2>Tools & Crafts Webshop</h2>\n      <Navigation />\n      <Router />\n    </div>\n  }\n}\n\nexport default App;\n","const cartWithoutItem = (cart, item) => cart.filter(cartItem => cartItem.name !== item.name);\r\n\r\nconst itemInCart = (cart, item) => cart.filter(cartItem => cartItem.name === item.name)[0];\r\n\r\nconst addToCart = (cart, item) => {\r\n    const cartItem = itemInCart(cart, item)\r\n    return cartItem === undefined\r\n        ? [ ...cartWithoutItem(cart, item), { ...item, quantity: 1 }]\r\n        : [ ...cartWithoutItem(cart, item), { ...cartItem, quantity: cartItem.quantity + 1 }]\r\n};\r\n\r\nconst removeFromCart = (cart, item) => {\r\n    return item.quantity === 1\r\n        ? [ ...cartWithoutItem(cart, item)]\r\n        : [ ...cartWithoutItem(cart, item), { ...item, quantity: item.quantity - 1 }]\r\n};\r\n\r\nconst removeAllFromCart = (cart, item) => {\r\n    return [ ...cartWithoutItem(cart, item)]\r\n};\r\n\r\nconst cartReducer = (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'ADD':\r\n            return addToCart(state, action.payload);\r\n\r\n        case 'REMOVE':\r\n            return removeFromCart(state, action.payload);\r\n\r\n        case 'REMOVE_ALL':\r\n            return removeAllFromCart(state, action.payload);\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cartReducer","import { createStore, combineReducers } from 'redux'\r\nimport cartReducer from '../features/cart/reducer'\r\n\r\nfunction saveToLocalStorage(state) {\r\n    try {\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem('state', serializedState)\r\n    } catch(e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n    try {\r\n        const serializedState = localStorage.getItem('state');\r\n        if (serializedState === null) return undefined;\r\n        return JSON.parse(serializedState)\r\n    } catch (e) {\r\n        console.log(e);\r\n        return undefined\r\n    }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    cart: cartReducer\r\n});\r\n\r\nconst persistedState = loadFromLocalStorage();\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    persistedState,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport App from './App';\nimport store from './config/store'\n\nconst app = <Provider store={store}>\n                <BrowserRouter>\n                    <App />\n                </BrowserRouter>\n            </Provider>\nReactDOM.render(app, document.getElementById('root'));\n"],"sourceRoot":""}